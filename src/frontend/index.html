<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Don't Lie To Me â€“ Anti-Scam Assistant</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1>ğŸ›¡ï¸ Don't Lie To Me</h1>
      <p class="tagline">Azure-powered anti-scam assistant</p>
    </div>
  </header>

  <main class="container">

    <!-- â”€â”€ Input Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <section class="card input-section">
      <h2>Analyze a Message</h2>

      <div class="tabs" role="tablist">
        <button class="tab active" data-tab="text" role="tab" aria-selected="true">
          ğŸ“ Paste Text
        </button>
        <button class="tab" data-tab="image" role="tab" aria-selected="false">
          ğŸ–¼ï¸ Upload Screenshot
        </button>
      </div>

      <!-- Text input tab -->
      <div id="tab-text" class="tab-panel active">
        <label for="message-input" class="sr-only">Message to analyze</label>
        <textarea
          id="message-input"
          rows="8"
          placeholder="Paste the suspicious message hereâ€¦"
          aria-label="Message to analyze"
        ></textarea>
      </div>

      <!-- Image upload tab -->
      <div id="tab-image" class="tab-panel">
        <label class="file-drop-zone" for="image-input" id="drop-zone">
          <span id="drop-zone-text">
            ğŸ“‚ Click to select a screenshot, or drag &amp; drop it here
          </span>
          <input
            type="file"
            id="image-input"
            accept="image/*"
            aria-label="Upload screenshot"
          />
        </label>
        <p class="hint">
          The image will be sent to the backend as a base64-encoded string.
          Extracted text will be analyzed.
        </p>
      </div>

      <!-- Analysis mode selector -->
      <div class="mode-selector">
        <label for="analysis-mode">Analysis mode:</label>
        <select id="analysis-mode" aria-label="Analysis mode">
          <option value="classify">âš¡ Quick Classification</option>
          <option value="analyze">ğŸ”¬ Detailed Analysis</option>
          <option value="guidance">ğŸ§­ Safety Guidance</option>
        </select>
      </div>

      <button id="analyze-btn" class="btn btn-primary">
        Analyze Message
      </button>
    </section>

    <!-- â”€â”€ Loading Indicator â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="loading" class="loading hidden" aria-live="polite">
      <div class="spinner"></div>
      <p>Analyzingâ€¦</p>
    </div>

    <!-- â”€â”€ Results Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <section id="results-section" class="card results-section hidden" aria-live="polite">
      <h2>Results</h2>

      <!-- Classification result -->
      <div id="result-classify" class="result-block hidden">
        <div id="classification-badge" class="badge"></div>
        <p><strong>Confidence:</strong> <span id="confidence-value"></span></p>
        <p><strong>Reasoning:</strong> <span id="reasoning-value"></span></p>
      </div>

      <!-- Detailed analysis result -->
      <div id="result-analyze" class="result-block hidden">
        <div class="result-group">
          <h3>ğŸš© Red Flags</h3>
          <ul id="red-flags-list"></ul>
        </div>
        <div class="result-group">
          <h3>ğŸ­ Persuasion Techniques</h3>
          <ul id="persuasion-list"></ul>
        </div>
        <div class="result-group">
          <h3>ğŸ­ Impersonation Indicators</h3>
          <ul id="impersonation-list"></ul>
        </div>
        <div class="result-group">
          <h3>ğŸ“‹ Summary</h3>
          <p id="analysis-summary"></p>
        </div>
      </div>

      <!-- Safety guidance result -->
      <div id="result-guidance" class="result-block hidden">
        <div class="result-group">
          <h3>ğŸš¨ Immediate Actions</h3>
          <ol id="immediate-actions-list"></ol>
        </div>
        <div class="result-group">
          <h3>ğŸ“¢ Reporting Steps</h3>
          <ol id="reporting-steps-list"></ol>
        </div>
        <div class="result-group">
          <h3>ğŸ”’ Prevention Tips</h3>
          <ul id="prevention-tips-list"></ul>
        </div>
        <div class="result-group">
          <h3>ğŸ”— Resources</h3>
          <ul id="resources-list"></ul>
        </div>
      </div>

      <!-- Error message -->
      <div id="result-error" class="result-block error-block hidden">
        <p id="error-message"></p>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Powered by Azure AI Foundry &amp; Azure Functions</p>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
